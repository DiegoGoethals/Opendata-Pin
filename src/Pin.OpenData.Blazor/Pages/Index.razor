@page "/"

@using Pin.OpenData.Blazor.Components
@using Pin.OpenData.Blazor.Models
@using Pin.OpenData.Blazor.Services

@inject ILocationService LocationService

<PageTitle>Drinkwater Gent</PageTitle>

<ul class="card-container">
    @foreach (var location in locations)
    {
	    <OverviewCard location="location" onDelete="DeleteLocation" />
    }
</ul>

@code {
    List<Location> locations;

    protected override void OnInitialized()
    {
        locations = LocationService.GetLocations();
    }

    private void DeleteLocation(Location location)
    {
        LocationService.DeleteLocation(location);
    }
}
